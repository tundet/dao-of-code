<!--
  Generated template for the Upload page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Upload</ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding>

  <div>
    <canvas #myCanvas>
    </canvas>
    <form (submit)="submitNewMedia()">
      <ion-row>
        <ion-col>
          <ion-list>

            <ion-checkbox name="videocb" [(ngModel)]="typeVideoFile" (change)="typeChange($event)"></ion-checkbox>
            Video
            <input type="file" name="videofile" (change)="videoFileChange($event)" [disabled]="!typeVideoFile">

            <ion-item-divider></ion-item-divider>

            <ion-checkbox name="imagecb" [(ngModel)]="typeImageFile" (change)="typeChange($event)"></ion-checkbox>
            Image
            <input type="file" name="imagefile" (change)="imageFileChange($event)" [disabled]="!typeImageFile">

            <ion-item-divider></ion-item-divider>

            <ion-checkbox name="youtube" [(ngModel)]="typeYoutube" (change)="typeChange($event)"></ion-checkbox>
            Youtube
            <ion-input type="text" name="formyoutubeLink" [(ngModel)]="formyoutubeLink"
                       placeholder="youtube video url" [disabled]="!typeYoutube"></ion-input>

            <ion-item-divider></ion-item-divider>

            Title and Description
            <ion-input type="text" name="formtitle" [(ngModel)]="formtitle" placeholder="Title min 4 & max 50 characters" pattern=".{4,50}"
                       required></ion-input>
            <textarea name="formdescription" [(ngModel)]="formdescription" placeholder="Description"
                      required></textarea>

            <ion-item-divider></ion-item-divider>

            <ion-checkbox name="gNew" [(ngModel)]="groupNew" (change)="typeChange($event)"></ion-checkbox>

            <ion-item-divider></ion-item-divider>

            New group:
            <ion-input
              type="text"
              name="newgroupname"
              [(ngModel)]="formnewgroupname"
              [disabled]="!groupNew"
              placeholder="New group name, Optional, minimum 4 letters, maximum 50 letters"
              pattern=".{4,50}"
            ></ion-input>

            <ion-item-divider></ion-item-divider>

            Language:
            <select
              [disabled]="!groupNew"
              (change)="newGroupsLangSelectedChange($event.target.options[$event.target.selectedIndex].value)"
            >
              <option *ngFor="let lang of languages" value="{{ lang.value }}">{{ lang.name }}</option>
            </select>

            <ion-item-divider></ion-item-divider>

            <ion-checkbox name="gOld" [(ngModel)]="groupOld" (change)="typeChange($event)"></ion-checkbox>
            Old group
            <select
              [disabled]="!groupOld"
              (change)="oldGroupsSelectedChange(
            $event.target.options[$event.target.selectedIndex].value,
            $event.target.options[$event.target.selectedIndex].getAttribute('data-group-tag')
          )"
            >
              <option
                *ngFor="let group of oldGroups; let i = index" value="{{ group.id }}"
                [attr.data-group-tag]="group.tag"
              >
                {{ group.name }}
              </option>
            </select>

            <ion-item-divider></ion-item-divider>

            Language: {{ oldGroupsSelectedTag }}

          </ion-list>
        </ion-col>
      </ion-row>

      <button ion-button class="submit-btn" type="submit">Upload</button>
    </form>
  </div>

  <div *ngIf="TODO">
    <h3>TODO</h3>
    <p>File upload:</p>
    <p>Todo:</p>
    <p><*> Form</p>
    <p><*> Preview</p>
    <p><*> Grouping</p>
    <p>< > patterns</p>
    <p>< > Something!</p>
  </div>

</ion-content>


